#+BEGIN_SRC ipython :session :results raw drawer
  %matplotlib inline
  import matplotlib.pyplot as plt
  import numpy as np
#+END_SRC

#+RESULTS:
:RESULTS:
# Out[4]:
:END:


#+BEGIN_SRC ipython :session :ipyfile /tmp/image.png :exports both :async t :results raw drawer
  import time
  time.sleep(3)
  plt.hist(np.random.randn(20000), bins=200)
#+END_SRC

#+RESULTS:
:RESULTS:
# Out[8]:
#+BEGIN_EXAMPLE
  (array([  1.,   0.,   0.,   1.,   0.,   1.,   0.,   0.,   0.,   0.,   1.,
  0.,   2.,   1.,   0.,   1.,   2.,   0.,   1.,   1.,   3.,   3.,
  4.,   3.,   1.,   4.,   1.,   8.,   3.,   6.,   3.,   6.,   4.,
  9.,  13.,  15.,  16.,  15.,  19.,  15.,  19.,  26.,  21.,  29.,
  27.,  27.,  29.,  34.,  35.,  32.,  44.,  46.,  56.,  64.,  78.,
  70.,  61.,  66.,  71.,  84.,  77.,  98., 110.,  99., 107., 102.,
  103., 126., 130., 128., 158., 159., 170., 186., 178., 186., 184.,
  202., 189., 201., 227., 201., 246., 252., 247., 282., 277., 273.,
  248., 282., 283., 281., 330., 301., 297., 306., 304., 299., 327.,
  298., 323., 301., 336., 315., 328., 296., 291., 285., 303., 299.,
  297., 283., 284., 301., 263., 273., 261., 239., 257., 265., 226.,
  217., 219., 219., 210., 212., 193., 170., 196., 171., 148., 156.,
  145., 143., 152., 118., 135., 116., 105., 117., 107., 100.,  96.,
  83.,  71.,  79.,  64.,  57.,  59.,  55.,  39.,  39.,  40.,  40.,
  41.,  26.,  34.,  19.,  26.,  24.,  15.,  26.,  13.,  16.,  15.,
  12.,  10.,   8.,   9.,   8.,   7.,   4.,   6.,   4.,   4.,   4.,
  2.,   3.,   4.,   5.,   3.,   3.,   4.,   2.,   0.,   2.,   0.,
  0.,   1.,   1.,   1.,   1.,   0.,   0.,   0.,   1.,   0.,   2.,
  0.,   1.]),
  array([-3.96437999, -3.9252323 , -3.88608461, -3.84693693, -3.80778924,
  -3.76864156, -3.72949387, -3.69034619, -3.6511985 , -3.61205081,
  -3.57290313, -3.53375544, -3.49460776, -3.45546007, -3.41631239,
  -3.3771647 , -3.33801701, -3.29886933, -3.25972164, -3.22057396,
  -3.18142627, -3.14227859, -3.1031309 , -3.06398321, -3.02483553,
  -2.98568784, -2.94654016, -2.90739247, -2.86824479, -2.8290971 ,
  -2.78994941, -2.75080173, -2.71165404, -2.67250636, -2.63335867,
  -2.59421099, -2.5550633 , -2.51591561, -2.47676793, -2.43762024,
  -2.39847256, -2.35932487, -2.32017719, -2.2810295 , -2.24188181,
  -2.20273413, -2.16358644, -2.12443876, -2.08529107, -2.04614339,
  -2.0069957 , -1.96784801, -1.92870033, -1.88955264, -1.85040496,
  -1.81125727, -1.77210959, -1.7329619 , -1.69381421, -1.65466653,
  -1.61551884, -1.57637116, -1.53722347, -1.49807579, -1.4589281 ,
  -1.41978041, -1.38063273, -1.34148504, -1.30233736, -1.26318967,
  -1.22404199, -1.1848943 , -1.14574661, -1.10659893, -1.06745124,
  -1.02830356, -0.98915587, -0.95000819, -0.9108605 , -0.87171281,
  -0.83256513, -0.79341744, -0.75426976, -0.71512207, -0.67597439,
  -0.6368267 , -0.59767901, -0.55853133, -0.51938364, -0.48023596,
  -0.44108827, -0.40194059, -0.3627929 , -0.32364522, -0.28449753,
  -0.24534984, -0.20620216, -0.16705447, -0.12790679, -0.0887591 ,
  -0.04961142, -0.01046373,  0.02868396,  0.06783164,  0.10697933,
  0.14612701,  0.1852747 ,  0.22442238,  0.26357007,  0.30271776,
  0.34186544,  0.38101313,  0.42016081,  0.4593085 ,  0.49845618,
  0.53760387,  0.57675156,  0.61589924,  0.65504693,  0.69419461,
  0.7333423 ,  0.77248998,  0.81163767,  0.85078536,  0.88993304,
  0.92908073,  0.96822841,  1.0073761 ,  1.04652378,  1.08567147,
  1.12481916,  1.16396684,  1.20311453,  1.24226221,  1.2814099 ,
  1.32055758,  1.35970527,  1.39885296,  1.43800064,  1.47714833,
  1.51629601,  1.5554437 ,  1.59459138,  1.63373907,  1.67288676,
  1.71203444,  1.75118213,  1.79032981,  1.8294775 ,  1.86862518,
  1.90777287,  1.94692056,  1.98606824,  2.02521593,  2.06436361,
  2.1035113 ,  2.14265898,  2.18180667,  2.22095436,  2.26010204,
  2.29924973,  2.33839741,  2.3775451 ,  2.41669278,  2.45584047,
  2.49498816,  2.53413584,  2.57328353,  2.61243121,  2.6515789 ,
  2.69072658,  2.72987427,  2.76902196,  2.80816964,  2.84731733,
  2.88646501,  2.9256127 ,  2.96476038,  3.00390807,  3.04305576,
  3.08220344,  3.12135113,  3.16049881,  3.1996465 ,  3.23879418,
  3.27794187,  3.31708955,  3.35623724,  3.39538493,  3.43453261,
  3.4736803 ,  3.51282798,  3.55197567,  3.59112335,  3.63027104,
  3.66941873,  3.70856641,  3.7477141 ,  3.78686178,  3.82600947,
  3.86515715]),
  <a list of 200 Patch objects>)
#+END_EXAMPLE
[[file:/tmp/image.png]]
:END:




